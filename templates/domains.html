{% extends 'home.html' %}

{% block content %}
<div class="head">
  <h1 style="color:white">Exclusive Domains</h1>
</div>

<div class="table-responsive">
<table class="table table-bordered table-hover">
  <thead class="thead-light">
      <tr>
          <th class="text-center" style="text-shadow:black 2px 2px; color:white; font-weight: bolder;background-color: #434343">Label</th>
          <th class="text-center" style="text-shadow:black 2px 2px; color:white; font-weight: bolder;background-color: #434343">Domain</th>
          <th class="text-center" style="text-shadow:black 2px 2px; color:white; font-weight: bolder;background-color: #434343">Phone Number</th>
          <th class="text-center" style="text-shadow:black 2px 2px; color:white; font-weight: bolder;background-color: #434343">Lead Cost ($)</th>
          <th class="text-center" style="text-shadow:black 2px 2px; color:white; font-weight: bolder;background-color: #434343">Actions</th>
      </tr>
  </thead>
  <tbody>
      {% for domain in domains %}
      <tr>
          <td class="text-center">
              <span class="data-name">{{ domain.label }}</span>
          </td>
          <td class="text-center">
              <span class="data-domain">{{ domain.domain }}</span>
          </td>
          <td class="text-center">
              <span class="data-phone">{{ domain.d_phone_number }}</span>
          </td>
          <td class="text-center">
              <span class="data-lead-cost">{{ domain.lead_cost }}</span>
          </td>
          <td class="text-center">
              <button class="settings-button" data-label="{{ domain.label }}" title="Settings"><i class="fa-solid fa-gear" title="Settings" style="cursor:pointer"></i></button>
              <form action="{{ url_for('domain.delete_domain', label=domain.label) }}" method="post" style="display:inline;">
                  <button type="submit" class="deleteBtn" onclick="return confirm('Are you sure you want to delete this domain?')"><i class="fa-solid fa-trash-can" title="Delete" style="cursor:pointer"></i></button>
              </form>
          </td>
      </tr>
      {% endfor %}
  </tbody>
</table>
</div>

<div id="addDomainForm" style="display: none; margin-bottom: 10px;">
  <form action="{{ url_for('domain.insert_domain') }}" method="post">
      {{ form.hidden_tag() }}
      <b>Label:</b>{{ form.label }}
      <b>Domain:</b> {{ form.domain }}
      <b>Phone:</b> {{ form.d_phone_number }}
      {{ form.submit }}
  </form>
</div>

<div style="padding-left: 20px;">
  <button id="addDomainButton" class="filter" style='margin-bottom: 20px !important; margin-top: 10px; border:none'>
    <i class="fa-solid fa-plus"></i> Add Domain
  </button>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" style="text-align: center;">Settings</h5>
          </div>
          <form id="settingsForm">
              <div class="modal-body">
                <div class="form-group row">
                  <label for="labelInput" class="col-sm-4 col-form-label text-right">Label:</label>
                  <div class="col-sm-8">
                      <input type="text" id="labelInput" name="label" class="form-control centered-text-input" required>
                  </div>
              </div>
              <div class="form-group row">
                  <label for="leadCostInput" class="col-sm-4 col-form-label text-right">Lead Cost ($):</label>
                  <div class="col-sm-8">
                      <input type="text" id="leadCostInput" name="lead_cost" class="form-control centered-text-input" placeholder="$">
                  </div>
              </div>
              <div class="form-group row">
                  <label for="domainInput" class="col-sm-4 col-form-label text-right">Domain:</label>
                  <div class="col-sm-8">
                      <input type="text" id="domainInput" name="domain" class="form-control centered-text-input" required>
                  </div>
              </div>
              <div class="form-group row">
                  <label for="phoneInput" class="col-sm-4 col-form-label text-right">Phone-Number:</label>
                  <div class="col-sm-8">
                      <input type="text" id="phoneInput" name="phone_number" class="form-control centered-text-input" required>
                  </div>
              </div>
              <div class="form-group row">
                <label for="moverref" class="col-sm-4 col-form-label text-right">Posting Key:</label>
                <div class="col-sm-8">
                    <input type="text" id="moverref" name="moverref" class="form-control centered-text-input" required>
                </div>
            </div>
            <hr>
            <h5 class="modal-title" style="text-align: center; padding-bottom: 10px;">Google Sheet Settings</h5>
              <div class="form-group row">
                  <label for="sheetInput" class="col-sm-4 col-form-label text-right">Sheet ID:</label>
                  <div class="col-sm-8">
                      <input type="text" id="sheetInput" name="sheet_id" class="form-control centered-text-input">
                  </div>
              </div>
              <div class="form-group row">
                  <label for="rangeInput" class="col-sm-4 col-form-label text-right rangeInput" data-toggle="tooltip" title="Specify the Google Sheets Location: Enter the sheet name followed by an exclamation mark (!), then the cell where data should start. For instance, 'Sheet1!A2' indicates data should be posted starting from cell A2 of the 'Sheet1' sheet.">Sheet Range:</label>
                  <div class="col-sm-8">
                      <input type="text" id="rangeInput" name="sheet_range" class="form-control centered-text-input">
                  </div>
              </div>
              <hr>
                  <div class="row form-group justify-content-center">
                    <label class="col-sm-6 text-right form-check-label" for="sendToLeadsAPI">Send to GRONAT:</label>
                    <div class="col-sm-1">
                        <input class="form-check-input" type="checkbox" id="sendToLeadsAPI" name="send_to_leads_api">
                    </div>
                </div>
                
                <div class="row form-group justify-content-center">
                    <label class="col-sm-6 text-right form-check-label" for="sendToGoogleSheet">Send to Google Sheet:</label>
                    <div class="col-sm-1">
                        <input class="form-check-input" type="checkbox" id="sendToGoogleSheet" name="send_to_google_sheet">
                    </div>
                </div>
                
                <div class="row form-group justify-content-center">
                    <label class="col-sm-6 text-right form-check-label" for="twilioNumberValidation">Twilio Number Validation:</label>
                    <div class="col-sm-1">
                        <input class="form-check-input" type="checkbox" id="twilioNumberValidation" name="twilio_number_validation">
                    </div>
                </div>
                
                <div class="row form-group justify-content-center">
                    <label class="col-sm-6 text-right form-check-label" for="smsTexting">SMS Texting:</label>
                    <div class="col-sm-1">
                        <input class="form-check-input" type="checkbox" id="smsTexting" name="sms_texting">
                    </div>
                </div>
                
                <div class="row form-group justify-content-center">
                    <label class="col-sm-6 text-right form-check-label" for="changeMoverRefInput">Forwarding Posting Key:</label>
                    <div class="col-sm-1">
                        <input class="form-check-input" type="checkbox" id="changeMoverRefInput" name="change_moverref">
                    </div>
                </div>
                <br>
              <div class="modal-footer">
                  <input type="submit" value="Save" class="filter">
              </div>
          </form>
      </div>
  </div>
</div>
   

{% endblock %}